<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinema Sentiment Analyzer</title>
    <style>
        /* Base styles */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: hsl(233, 41%, 61%); /* ðŸŽ¨ Light blue */
        }

        header {
            background-color: #ffffff; /* ðŸŽ¨ White */
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .description {
            margin-bottom: 20px;
            font-weight: bold; /* Make description bold */
        }

        .btn {
            width: 100%;
            padding: 10px;
            background-color: #2980b9; /* ðŸŽ¨ Blue */
            color: #fff; /* ðŸŽ¨ White */
            border: 2px solid #2980b9; /* ðŸŽ¨ Blue */
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2rem;
        }

        /* Form styles */
        form {
            padding: 20px;
            border: 2px solid #ccc; /* ðŸŽ¨ Light gray */
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.8); /* ðŸŽ¨ Translucent white */
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            font-size: 1.2rem;
            border: 1px solid #ccc; /* ðŸŽ¨ Light gray */
            border-radius: 5px;
            box-sizing: border-box;
        }

        .alert {
            margin-top: 20px;
            padding: 10px;
            background-color: #f8d7da; /* ðŸŽ¨ Light red */
            border-color: #f5c6cb; /* ðŸŽ¨ Pink */
            color: #721c24; /* ðŸŽ¨ Dark red */
            border-radius: 5px;
        }

        .result-container {
            text-align: center;
            background-color: #df1c36; /* ðŸŽ¨ Red */
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 90%;
            margin: auto;
        }

        .result-container h1 {
            color: #fff; /* ðŸŽ¨ White */
            margin-bottom: 20px;
        }

        .result-container h2 {
            color: #3498db; /* ðŸŽ¨ Blue */
            margin-bottom: 40px;
        }

        .result {
            color: #fff; /* ðŸŽ¨ White */
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .note-section {
            background-color: #f3f3f3; /* ðŸŽ¨ Light gray */
            border-radius: 5px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }

        .note-section h3 {
            color: #333; /* ðŸŽ¨ Dark gray */
            margin-bottom: 10px;
        }

        .note-section p {
            color: #57138f; /* ðŸŽ¨ Purple */
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#sentimentAnalysisForm').on('submit', function(event) {
                event.preventDefault();
                var sentence = $('#sentence').val().trim();
                if (sentence === '') {
                    $('#warning').html('<div class="alert" role="alert">Please enter your movie review.</div>');
                    $('#predictionResult').empty().hide(); // Clear and hide any existing prediction result
                    return;
                }
                $('#warning').empty(); // Clear any existing warnings
                var formData = {
                    'sentence': sentence
                };
                $.ajax({
                    type: 'POST',
                    url: '/predict',
                    contentType: 'application/json',
                    data: JSON.stringify(formData),
                    dataType: 'json',
                    success: function(response) {
                        var predictionText = response.prediction_text;
                        var resultContainer = $('#predictionResult');
                        resultContainer.html('<div class="result-container"><h1>Prediction Result</h1><div class="result"><h2>' + predictionText + '</h2></div>' + getPredictionMessage(predictionText) + '</div>').show();
                    },
                    error: function(xhr, status, error) {
                        console.error('Error:', error);
                    }
                });
            });
        });

        // Function to return appropriate message based on prediction
        function getPredictionMessage(prediction) {
            if (prediction === 'Positive review') {
                return '<div class="note-section"><h3>Note:</h3>' +
                       '<p>The prediction is made using a Logistic Regression machine learning model. Logistic Regression is a statistical method for analyzing a dataset in which there are one or more independent variables that determine an outcome.</p>' +
                       '<p>It is commonly used for binary classification problems, such as predicting whether a movie review is positive or negative based on its content and context.</p>' +
                       '<p>For this Cinema Sentiment Analyzer, the Logistic Regression model is trained on a dataset containing movie reviews and predicts whether a movie review is positive or not.</p></div>';
            } else if (prediction === 'Negative review') {
                return '<div class="note-section"><h3>Note:</h3>' +
                       '<p>The prediction is made using a Logistic Regression machine learning model. Logistic Regression is a statistical method for analyzing a dataset in which there are one or more independent variables that determine an outcome.</p>' +
                       '<p>It is commonly used for binary classification problems, such as predicting whether a movie review is positive or negative based on its content and context.</p>' +
                       '<p>For this Cinema Sentiment Analyzer, the Logistic Regression model is trained on a dataset containing movie reviews and predicts whether a movie review is positive or not.</p></div>';
            } else {
                return '<div class="note-section"><h3>Note:</h3><p>Prediction result is unclear. Please try again.</p></div>';
            }
        }
    </script>
</head>
<body>
    <header>
        <h1>Cinema Sentiment Analyzer</h1>
    </header>
    <div class="container">
        <div class="description">
            <h2>Description of the project</h2>
            <p>The Cinema Sentiment Analyzer employs machine learning to predict the sentiment of movie reviews based on textual content and context. It integrates Python and Flask for backend development and utilizes HTML, and CSS for frontend implementation. This system provides accurate sentiment analysis, essential for understanding audience feedback and enhancing movie marketing efforts.</p>
        </div>
    </div>
    
    <div class="container">
        <!-- Form for user input -->
        <form id="sentimentAnalysisForm" class="form-group">
            <div class="form-group">
                <label for="sentence">Enter your movie review:</label>
                <textarea class="form-control" name="sentence" rows="4" id="sentence"></textarea>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Analyze</button>
        </form>
        <!-- Warning message container -->
        <div id="warning"></div>
    </div>

    <div class="container" id="predictionResult" style="display: none;">
        <!-- Prediction result will be displayed here -->
    </div>
</body>
</html>
